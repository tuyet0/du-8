"use strict";(self.webpackChunkdu_6=self.webpackChunkdu_6||[]).push([[722],{5768:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})}},2181:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})}},6785:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.onClick,r=void 0===n?function(){}:n;return(0,t.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",onClick:r,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})}},9646:function(e,n,r){r.d(n,{Z:function(){return g}});var t,i,o,s,c,a=r(1413),d=r(4925),l=r(168),u=(r(2791),r(2683)),h=r(184),f=u.ZP.div(t||(t=(0,l.Z)(["\n  width: ",";\n  height: ",";\n  border: "," solid white;\n  border-top: "," solid transparent;\n  border-bottom: "," solid transparent;\n  border-radius: 100rem;\n  display: inline-block;\n  animation: spinner 1s infinite linear;\n  @keyframes spinner {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(e){return e.size}),(function(e){return e.size}),(function(e){return e.borderSize}),(function(e){return e.borderSize}),(function(e){return e.borderSize})),x=function(e){var n=e.size,r=void 0===n?"40px":n,t=e.borderSize,i=void 0===t?"5px":t;return(0,h.jsx)(f,{size:r,borderSize:i})},p=r(1087),v=["to","kind","type","onClick","children"],m=u.ZP.button(i||(i=(0,l.Z)(["\n  ",";\n  ",";\n  ",";\n  border-radius: 8px;\n  font-size: 18px;\n  font-weight: bold;\n  line-height: 1;\n  max-width: 100%;\n  padding: 0 20px;\n  display: block;\n  height: ",";\n  &:disabled {\n    opacity: 0.5;\n    pointer-events: none;\n  }\n"])),(function(e){return"secondary"===e.kind&&(0,u.iv)(o||(o=(0,l.Z)(["\n      background: linear-gradient(\n        to left top,\n        ",",\n        ","\n      );\n      color: ",";\n    "])),(function(e){return e.theme.secondary}),(function(e){return e.theme.primary}),(function(e){return e.theme.grayLight}))}),(function(e){return"ghost"===e.kind&&(0,u.iv)(s||(s=(0,l.Z)(["\n      background: linear-gradient(\n        to left bottom,\n        ",",\n        ","\n      );\n      color: ",";\n    "])),(function(e){return e.theme.accent}),(function(e){return e.theme.secondary}),(function(e){return e.theme.black}))}),(function(e){return"primary"===e.kind&&(0,u.iv)(c||(c=(0,l.Z)(["\n      color: white;\n      background: linear-gradient(\n        to right bottom,\n        ",",\n        ","\n      );\n    "])),(function(e){return e.theme.primary}),(function(e){return e.theme.secondary}))}),(function(e){return e.height||"66px"})),g=function(e){var n=e.to,r=e.kind,t=void 0===r?"secondary":r,i=e.type,o=void 0===i?"button":i,s=e.onClick,c=void 0===s?function(){}:s,l=e.children,u=(0,d.Z)(e,v),f=u.isLoading?(0,h.jsx)(x,{size:"30px"}):l;return""!==n&&"string"===typeof n?(0,h.jsx)(p.OL,{to:n,className:"inline-block",children:(0,h.jsx)(m,(0,a.Z)((0,a.Z)({kind:t,type:o,onClick:c},u),{},{children:f}))}):(0,h.jsx)(m,(0,a.Z)((0,a.Z)({disabled:!0,kind:t,type:o,onClick:c},u),{},{children:f}))}},102:function(e,n,r){r.d(n,{z:function(){return t.Z}});var t=r(9646)},9501:function(e,n,r){r.d(n,{L:function(){return h}});var t=r(1413),i=r(4925),o=r(2791),s=r(9439),c=r(184),a=(0,o.createContext)();function d(e){var n=(0,o.useState)(!1),r=(0,s.Z)(n,2),t=r[0],i=r[1],d={show:t,setShow:i,toggle:function(){i(!t)}};return(0,c.jsx)(a.Provider,{value:d,children:e.children})}function l(){var e=(0,o.useContext)(a);if("undefined"===typeof e)throw new Error("useDropdown must be used within DropdownProvider");return e}var u=["children"],h=function(e){var n=e.children,r=(0,i.Z)(e,u);return(0,c.jsx)(d,(0,t.Z)((0,t.Z)({},r),{},{children:(0,c.jsx)("div",{className:"relative inline-block w-full",children:n})}))},f=function(e){var n=e.onClick,r=l().setShow;return(0,c.jsx)("div",{className:"flex items-center justify-between px-5 py-4 text-sm font-bold transition-all shadow-md cursor-pointer hover:bg-[#a9f3cf]",onClick:function(){n&&n(),r(!1)},children:e.children})},x=["placeholder"],p=function(e){var n=e.placeholder,r=(0,i.Z)(e,x),o=l().onChange;return(0,c.jsx)("div",{className:"p-2",children:(0,c.jsx)("input",(0,t.Z)({type:"text",placeholder:n,className:"p-4 outline-none w-full border border-gray-200 rounded",onChange:o},r))})},v=function(e){var n=e.placeholder,r=void 0===n?"":n,t=e.className,i=void 0===t?"":t,o=l(),s=o.toggle,a=o.show;return(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"flex items-center justify-between py-4 px-5 bg-white border-2 border-[#1DC071] rounded-lg cursor-pointer text-sm text-[#B2B3BD] ".concat(i),onClick:s,children:[(0,c.jsx)("span",{children:r}),(0,c.jsx)("span",{children:a?(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})}):(0,c.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,c.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})})})]})})},m=function(e){var n=e.children,r=l().show;return(0,c.jsx)(c.Fragment,{children:r&&(0,c.jsx)("div",{className:"absolute left-0 w-full mt-1 bg-white border-2 border-primary top-full",children:n})})};h.Option=f,h.Search=p,h.Select=v,h.List=m},2753:function(e,n,r){var t,i=r(168),o=(r(2791),r(2683)),s=r(184),c=o.ZP.span(t||(t=(0,i.Z)(["\n  display: inline-block;\n  padding: 10px 15px;\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n"])));n.Z=function(e){var n=e.children,r=e.type,t="text-gray-500 bg-gray-100";switch(void 0===r?"default":r){case"success":t="text-#008000-500 bg-green-100";break;case"warning":t="text-orange-500 bg-orange-100";break;case"danger":t="text-red-500 bg-red-100"}return(0,s.jsx)(c,{className:t,children:n})}},1538:function(e,n,r){r.r(n);var t,i=r(168),o=(r(2791),r(2683)),s=r(184),c=o.ZP.div(t||(t=(0,i.Z)(["\n  overflow-x: auto;\n  background-color: white;\n  border-radius: 10px;\n  table {\n    width: 100%;\n  }\n  thead {\n    background-color: #f7f7f8;\n  }\n  th,\n  td {\n    vertical-align: middle;\n    white-space: nowrap;\n  }\n  th {\n    padding: 20px 30px;\n    font-weight: 600;\n    text-align: left;\n  }\n  td {\n    padding: 15px 30px;\n  }\n  tbody {\n  }\n"])));n.default=function(e){var n=e.children;return(0,s.jsx)(c,{children:(0,s.jsx)("table",{children:n})})}},8791:function(e,n,r){r.d(n,{i:function(){return t}});var t=r(1538).default},1418:function(e,n,r){r(2791);var t=r(184);n.Z=function(e){var n=e.title,r=void 0===n?"":n,i=e.desc,o=void 0===i?"":i,s=e.children;return(0,t.jsxs)("div",{className:"flex items-start justify-between mb-10",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"dashboard-heading",children:r}),(0,t.jsx)("p",{className:"dashboard-short-desc",children:o})]}),s]})}},722:function(e,n,r){r.r(n);var t=r(3433),i=r(4165),o=r(1413),s=r(5861),c=r(9439),a=r(102),d=r(9501),l=r(8791),u=r(1418),h=r(2791),f=r(2481),x=r(2077),p=r(6785),v=r(5768),m=r(2181),g=r(7689),j=r(1830),w=r.n(j),b=r(2753),k=r(3585),y=r(763),Z=r(184);n.default=function(){var e=(0,h.useState)([]),n=(0,c.Z)(e,2),r=n[0],j=n[1],C=(0,h.useState)(""),N=(0,c.Z)(C,2),L=N[0],S=N[1],z=(0,h.useState)(),P=(0,c.Z)(z,2),B=P[0],D=P[1],E=(0,h.useState)(0),A=(0,c.Z)(E,2),M=A[0],I=A[1],O=(0,g.s0)();(0,h.useEffect)((function(){function e(){return(e=(0,s.Z)((0,i.Z)().mark((function e(){var n,r,t,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.hJ)(x.db,"Posts"),r=L?(0,f.IO)(n,(0,f.ar)("title",">=",L),(0,f.ar)("title","<=",L+"utf8")):(0,f.IO)(n,(0,f.b9)(2)),e.next=4,(0,f.PL)(r);case 4:t=e.sent,s=t.docs[t.docs.length-1],(0,f.cf)(n,(function(e){I(e.size)})),(0,f.cf)(r,(function(e){var n=[];e.forEach((function(e){n.push((0,o.Z)({id:e.id},e.data()))})),j(n)})),D(s);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[L]);var W=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){var r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,f.JU)(x.db,"Posts",n),w().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isConfirmed){e.next=4;break}return w().fire("Deleted!","Your file has been deleted.","success"),e.next=4,(0,f.oe)(r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=function(e){switch(e){case k.cf.APPROVED:return(0,Z.jsx)(b.Z,{type:"success",children:"Approved"});case k.cf.PENDING:return(0,Z.jsx)(b.Z,{type:"warning",children:"Pending"});case k.cf.REJECTED:return(0,Z.jsx)(b.Z,{type:"danger",children:"Rejected"})}},H=(0,y.debounce)((function(e){S(e.target.value)}),300),R=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var n,s,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,f.IO)((0,f.hJ)(x.db,"Posts"),(0,f.TQ)(B||0),(0,f.b9)(2)),D(n),(0,f.cf)(n,(function(e){var n=[];e.forEach((function(e){n.push((0,o.Z)({id:e.id},e.data()))})),j([].concat((0,t.Z)(r),n))})),e.next=5,(0,f.PL)(n);case 5:s=e.sent,c=s.docs[s.docs.length-1],D(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(u.Z,{title:"All posts",desc:"Manage all posts"}),(0,Z.jsxs)("div",{className:"flex justify-end gap-5 mb-10",children:[(0,Z.jsx)("div",{className:"w-full max-w-[200px]",children:(0,Z.jsx)(d.L,{children:(0,Z.jsx)(d.L.Select,{placeholder:"Category"})})}),(0,Z.jsx)("div",{className:"w-full max-w-[300px]",children:(0,Z.jsx)("input",{type:"text",className:"w-full p-4 border border-gray-300 border-solid rounded-lg",placeholder:"Search post...",onChange:H})})]}),(0,Z.jsxs)(l.i,{children:[(0,Z.jsx)("thead",{children:(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("th",{children:"Id"}),(0,Z.jsx)("th",{children:"Post"}),(0,Z.jsx)("th",{children:"Category"}),(0,Z.jsx)("th",{children:"Author"}),(0,Z.jsx)("th",{children:"Status"}),(0,Z.jsx)("th",{children:"Actions"})]})}),(0,Z.jsx)("tbody",{children:r.length>0&&r.map((function(e,n){return(0,Z.jsxs)("tr",{children:[(0,Z.jsx)("td",{children:n}),(0,Z.jsx)("td",{children:(0,Z.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,Z.jsx)("img",{src:e.image,alt:"",className:"w-[66px] h-[55px] rounded object-cover"}),(0,Z.jsxs)("div",{className:"flex-1",children:[(0,Z.jsx)("h3",{className:"font-semibold",children:e.title.slice(0,20)+"..."}),(0,Z.jsx)("time",{className:"text-sm text-gray-500",children:new Date(1e3*e.createdAt.seconds).toLocaleDateString("vi-VI")})]})]})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("span",{className:"text-gray-500",children:"Camera Gear"})}),(0,Z.jsx)("td",{children:(0,Z.jsx)("span",{className:"text-gray-500",children:"Evondev"})}),(0,Z.jsx)("td",{children:J(e.status)}),(0,Z.jsx)("td",{children:(0,Z.jsxs)("div",{className:"flex items-center text-gray-500 gap-x-3",children:[(0,Z.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",children:(0,Z.jsx)(p.Z,{onClick:function(){return O("/".concat(e.slug))}})}),(0,Z.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",children:(0,Z.jsx)(m.Z,{onClick:function(){return O("/manage/update-post?id=".concat(e.id))}})}),(0,Z.jsx)("span",{className:"flex items-center justify-center w-10 h-10 border border-gray-200 rounded cursor-pointer",children:(0,Z.jsx)(v.Z,{onClick:function(){return W(e.id)}})})]})})]},e.id)}))})]}),(0,Z.jsx)("div",{className:"mt-10 text-center",children:M>r.length&&(0,Z.jsx)(a.z,{onClick:R,disabled:!1,kind:"ghost",className:"mx-auto w-[200px]",children:"See more+"})})]})}}}]);
//# sourceMappingURL=722.3d7a88f9.chunk.js.map